<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head"></head>
<body>
    <header th:replace="fragments/header :: header"></header>

<!--     This select the subject-->
    <section class="flex-flow-container">
        <form th:unless="${subCats}" class="basic-row-box" action="/lessonPlanner" method="POST">
            Subject:&nbsp;<select name="subjectId">
                        <option th:each="subject : ${monkey}" th:value="${subject.getId()}"
                        th:text="${subject.getSubjectMatter()}"></option>
                    </select><br>
            <input type="submit" value="Add">
        </form>

<!-- If subject has been selected this form shows subject categories -->
        <form class="basic-column-box" th:if="${subCats}"
              action="/createLessonPlan"
              method="POST">
            <input type="hidden" th:value="${subject.getSubjectMatter()}" name="subject">
            Subject Category:&nbsp;<select name="subCatId">
            <option th:each="subCat : ${subCats}" th:value="${subCat.getId()}"
                    th:text="${subCat.getCategoryName()}"></option>
        </select><br>

            Books:<select name="booksId">
            <option th:each="books : ${books}"
                    th:text="${books.getTitle()}"
                    th:value="${books.getId()}"></option>
        </select><br>
            <input type="hidden" th:value="${user.getUserName()}" name="creator">
            Lesson Plan:<input type="text" name="planName"><br>
            <input type="submit" value="Create Lesson Plan">
        </form>

        <form th:if="${subCats}" action="/addLink" method="POST">
            <input type="hidden" name="lessonPlanId" th:value="${lessonPlan.getId()}">
            <input type="hidden" name="subjectId" th:value="${subject.getId()}">
            Links:<select name="linkId">
            <option th:each="link : ${links}"
                    th:text="${link.getDescription()}"
                    th:value="${link.getId()}"></option>
        </select><br>
            <input type="submit" value="Add Link">
        </form>

<!--        <form action="/lessonPlan/update" method="post">-->
<!--            Lesson Plan:<input type="text" name="planName"><br>-->
<!--&lt;!&ndash;            Date:<input type="date" name="date"><br>&ndash;&gt;-->
<!--            TO DB &ndash;&gt;-->
<!--&lt;!&ndash;            Content:&ndash;&gt;-->
<!--&lt;!&ndash;            <select name="item" id="item"></select>&lt;!&ndash; TODO: drop down of books & links & API's (need db of links and a way to add links to database &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash; TODO: write th if that checks if the select above is empty if not then create a new select below.           &ndash;&gt;-->
<!--            <input type="submit" value="Add">Submit</input>-->
<!--        </form>-->
    </section>






        <form action="/createSubject" method="POST">
        Subject: <input type="text" name="subjectMatter">
        <input type="submit" value="Create">
        </form>

        <form action="/createLink" method="post">
            Subject:&nbsp;<select name="subjectId">
            <option th:each="subject : ${monkey}" th:value="${subject.getId()}"
                    th:text="${subject.getSubjectMatter()}"></option>
        </select><br>
            Link: <input type="text" name="url">
            Description: <input type="text" name="desc">
            <input type="submit" value="Create">
        </form>

        <form action="/createSubCat" method="POST">
            Subject:&nbsp;<select name="subjectId">
            <option th:each="subject : ${monkey}" th:value="${subject.getId()}"
                    th:text="${subject.getSubjectMatter()}"></option>
        </select><br>
            Sub Category: <input type="text" name="categoryName">
            <input type="submit" value="Create">
        </form>

</body>

<script th:replace="fragments/bottomcontent.html :: javascripts"></script>

</html>